{"ast":null,"code":"import _toPath from \"lodash/toPath\";\nfunction createDeleteInWithCleanUp(structure) {\n  var shouldDeleteDefault = function shouldDeleteDefault(structure) {\n    return function (state, path) {\n      return structure.getIn(state, path) !== undefined;\n    };\n  };\n  var deepEqual = structure.deepEqual,\n    empty = structure.empty,\n    getIn = structure.getIn,\n    deleteIn = structure.deleteIn,\n    setIn = structure.setIn;\n  return function (shouldDelete) {\n    if (shouldDelete === void 0) {\n      shouldDelete = shouldDeleteDefault;\n    }\n    var deleteInWithCleanUp = function deleteInWithCleanUp(state, path) {\n      if (path[path.length - 1] === ']') {\n        // array path\n        var pathTokens = _toPath(path);\n        pathTokens.pop();\n        var parent = getIn(state, pathTokens.join('.'));\n        return parent ? setIn(state, path) : state;\n      }\n      var result = state;\n      if (shouldDelete(structure)(state, path)) {\n        result = deleteIn(state, path);\n      }\n      var dotIndex = path.lastIndexOf('.');\n      if (dotIndex > 0) {\n        var parentPath = path.substring(0, dotIndex);\n        if (parentPath[parentPath.length - 1] !== ']') {\n          var _parent = getIn(result, parentPath);\n          if (deepEqual(_parent, empty)) {\n            return deleteInWithCleanUp(result, parentPath);\n          }\n        }\n      }\n      return result;\n    };\n    return deleteInWithCleanUp;\n  };\n}\nexport default createDeleteInWithCleanUp;","map":{"version":3,"names":["_toPath","createDeleteInWithCleanUp","structure","shouldDeleteDefault","state","path","getIn","undefined","deepEqual","empty","deleteIn","setIn","shouldDelete","deleteInWithCleanUp","length","pathTokens","pop","parent","join","result","dotIndex","lastIndexOf","parentPath","substring","_parent"],"sources":["/home/INTEXSOFT/ivan.cherkas/PROJECTS/way-of-the-samurai/node_modules/redux-form/es/deleteInWithCleanUp.js"],"sourcesContent":["import _toPath from \"lodash/toPath\";\n\nfunction createDeleteInWithCleanUp(structure) {\n  var shouldDeleteDefault = function shouldDeleteDefault(structure) {\n    return function (state, path) {\n      return structure.getIn(state, path) !== undefined;\n    };\n  };\n\n  var deepEqual = structure.deepEqual,\n      empty = structure.empty,\n      getIn = structure.getIn,\n      deleteIn = structure.deleteIn,\n      setIn = structure.setIn;\n  return function (shouldDelete) {\n    if (shouldDelete === void 0) {\n      shouldDelete = shouldDeleteDefault;\n    }\n\n    var deleteInWithCleanUp = function deleteInWithCleanUp(state, path) {\n      if (path[path.length - 1] === ']') {\n        // array path\n        var pathTokens = _toPath(path);\n\n        pathTokens.pop();\n        var parent = getIn(state, pathTokens.join('.'));\n        return parent ? setIn(state, path) : state;\n      }\n\n      var result = state;\n\n      if (shouldDelete(structure)(state, path)) {\n        result = deleteIn(state, path);\n      }\n\n      var dotIndex = path.lastIndexOf('.');\n\n      if (dotIndex > 0) {\n        var parentPath = path.substring(0, dotIndex);\n\n        if (parentPath[parentPath.length - 1] !== ']') {\n          var _parent = getIn(result, parentPath);\n\n          if (deepEqual(_parent, empty)) {\n            return deleteInWithCleanUp(result, parentPath);\n          }\n        }\n      }\n\n      return result;\n    };\n\n    return deleteInWithCleanUp;\n  };\n}\n\nexport default createDeleteInWithCleanUp;"],"mappings":"AAAA,OAAOA,OAAO,MAAM,eAAe;AAEnC,SAASC,yBAAyBA,CAACC,SAAS,EAAE;EAC5C,IAAIC,mBAAmB,GAAG,SAASA,mBAAmBA,CAACD,SAAS,EAAE;IAChE,OAAO,UAAUE,KAAK,EAAEC,IAAI,EAAE;MAC5B,OAAOH,SAAS,CAACI,KAAK,CAACF,KAAK,EAAEC,IAAI,CAAC,KAAKE,SAAS;IACnD,CAAC;EACH,CAAC;EAED,IAAIC,SAAS,GAAGN,SAAS,CAACM,SAAS;IAC/BC,KAAK,GAAGP,SAAS,CAACO,KAAK;IACvBH,KAAK,GAAGJ,SAAS,CAACI,KAAK;IACvBI,QAAQ,GAAGR,SAAS,CAACQ,QAAQ;IAC7BC,KAAK,GAAGT,SAAS,CAACS,KAAK;EAC3B,OAAO,UAAUC,YAAY,EAAE;IAC7B,IAAIA,YAAY,KAAK,KAAK,CAAC,EAAE;MAC3BA,YAAY,GAAGT,mBAAmB;IACpC;IAEA,IAAIU,mBAAmB,GAAG,SAASA,mBAAmBA,CAACT,KAAK,EAAEC,IAAI,EAAE;MAClE,IAAIA,IAAI,CAACA,IAAI,CAACS,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;QACjC;QACA,IAAIC,UAAU,GAAGf,OAAO,CAACK,IAAI,CAAC;QAE9BU,UAAU,CAACC,GAAG,CAAC,CAAC;QAChB,IAAIC,MAAM,GAAGX,KAAK,CAACF,KAAK,EAAEW,UAAU,CAACG,IAAI,CAAC,GAAG,CAAC,CAAC;QAC/C,OAAOD,MAAM,GAAGN,KAAK,CAACP,KAAK,EAAEC,IAAI,CAAC,GAAGD,KAAK;MAC5C;MAEA,IAAIe,MAAM,GAAGf,KAAK;MAElB,IAAIQ,YAAY,CAACV,SAAS,CAAC,CAACE,KAAK,EAAEC,IAAI,CAAC,EAAE;QACxCc,MAAM,GAAGT,QAAQ,CAACN,KAAK,EAAEC,IAAI,CAAC;MAChC;MAEA,IAAIe,QAAQ,GAAGf,IAAI,CAACgB,WAAW,CAAC,GAAG,CAAC;MAEpC,IAAID,QAAQ,GAAG,CAAC,EAAE;QAChB,IAAIE,UAAU,GAAGjB,IAAI,CAACkB,SAAS,CAAC,CAAC,EAAEH,QAAQ,CAAC;QAE5C,IAAIE,UAAU,CAACA,UAAU,CAACR,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;UAC7C,IAAIU,OAAO,GAAGlB,KAAK,CAACa,MAAM,EAAEG,UAAU,CAAC;UAEvC,IAAId,SAAS,CAACgB,OAAO,EAAEf,KAAK,CAAC,EAAE;YAC7B,OAAOI,mBAAmB,CAACM,MAAM,EAAEG,UAAU,CAAC;UAChD;QACF;MACF;MAEA,OAAOH,MAAM;IACf,CAAC;IAED,OAAON,mBAAmB;EAC5B,CAAC;AACH;AAEA,eAAeZ,yBAAyB"},"metadata":{},"sourceType":"module","externalDependencies":[]}