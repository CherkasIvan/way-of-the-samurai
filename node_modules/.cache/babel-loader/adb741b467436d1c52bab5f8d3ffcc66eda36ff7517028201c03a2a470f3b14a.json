{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport createConnectedFieldArray from './ConnectedFieldArray';\nimport prefixName from './util/prefixName';\nimport { withReduxForm } from './ReduxFormContext';\nimport validateComponentProp from './util/validateComponentProp';\nvar toArray = function toArray(value) {\n  return Array.isArray(value) ? value : [value];\n};\nvar wrapError = function wrapError(fn, key) {\n  return fn && function () {\n    var validators = toArray(fn);\n    for (var i = 0; i < validators.length; i++) {\n      var result = validators[i].apply(validators, arguments);\n      if (result) {\n        var _ref;\n        return _ref = {}, _ref[key] = result, _ref;\n      }\n    }\n  };\n};\nexport default function createFieldArray(structure) {\n  var ConnectedFieldArray = createConnectedFieldArray(structure);\n  var FieldArray = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(FieldArray, _Component);\n    function FieldArray(props) {\n      var _this;\n      _this = _Component.call(this, props) || this;\n      _this.ref = React.createRef();\n      if (!props._reduxForm) {\n        throw new Error('FieldArray must be inside a component decorated with reduxForm()');\n      }\n      return _this;\n    }\n    var _proto = FieldArray.prototype;\n    _proto.componentDidMount = function componentDidMount() {\n      var _this2 = this;\n      this.props._reduxForm.register(this.name, 'FieldArray', function () {\n        return wrapError(_this2.props.validate, '_error');\n      }, function () {\n        return wrapError(_this2.props.warn, '_warning');\n      });\n    };\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n      var oldName = prefixName(prevProps, prevProps.name);\n      var newName = prefixName(this.props, this.props.name);\n      if (oldName !== newName) {\n        // unregister old name\n        this.props._reduxForm.unregister(oldName); // register new name\n\n        this.props._reduxForm.register(newName, 'FieldArray');\n      }\n    };\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.props._reduxForm.unregister(this.name);\n    };\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      invariant(this.props.forwardRef, 'If you want to access getRenderedComponent(), ' + 'you must specify a forwardRef prop to FieldArray');\n      return this.ref && this.ref.current.getRenderedComponent();\n    };\n    _proto.render = function render() {\n      return createElement(ConnectedFieldArray, _extends({}, this.props, {\n        name: this.name,\n        ref: this.ref\n      }));\n    };\n    _createClass(FieldArray, [{\n      key: \"name\",\n      get: function get() {\n        return prefixName(this.props, this.props.name);\n      }\n    }, {\n      key: \"dirty\",\n      get: function get() {\n        return !this.ref || this.ref.current.dirty;\n      }\n    }, {\n      key: \"pristine\",\n      get: function get() {\n        return !!(this.ref && this.ref.current.pristine);\n      }\n    }, {\n      key: \"value\",\n      get: function get() {\n        return this.ref ? this.ref.current.value : undefined;\n      }\n    }]);\n    return FieldArray;\n  }(Component);\n  FieldArray.propTypes = {\n    name: PropTypes.string.isRequired,\n    component: validateComponentProp,\n    props: PropTypes.object,\n    validate: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    warn: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    forwardRef: PropTypes.bool,\n    _reduxForm: PropTypes.object\n  };\n  return withReduxForm(FieldArray);\n}","map":{"version":3,"names":["_extends","_createClass","_inheritsLoose","React","Component","createElement","PropTypes","invariant","createConnectedFieldArray","prefixName","withReduxForm","validateComponentProp","toArray","value","Array","isArray","wrapError","fn","key","validators","i","length","result","apply","arguments","_ref","createFieldArray","structure","ConnectedFieldArray","FieldArray","_Component","props","_this","call","ref","createRef","_reduxForm","Error","_proto","prototype","componentDidMount","_this2","register","name","validate","warn","componentDidUpdate","prevProps","oldName","newName","unregister","componentWillUnmount","getRenderedComponent","forwardRef","current","render","get","dirty","pristine","undefined","propTypes","string","isRequired","component","object","oneOfType","func","arrayOf","bool"],"sources":["/home/INTEXSOFT/ivan.cherkas/PROJECTS/way-of-the-samurai/node_modules/redux-form/es/createFieldArray.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport createConnectedFieldArray from './ConnectedFieldArray';\nimport prefixName from './util/prefixName';\nimport { withReduxForm } from './ReduxFormContext';\nimport validateComponentProp from './util/validateComponentProp';\n\nvar toArray = function toArray(value) {\n  return Array.isArray(value) ? value : [value];\n};\n\nvar wrapError = function wrapError(fn, key) {\n  return fn && function () {\n    var validators = toArray(fn);\n\n    for (var i = 0; i < validators.length; i++) {\n      var result = validators[i].apply(validators, arguments);\n\n      if (result) {\n        var _ref;\n\n        return _ref = {}, _ref[key] = result, _ref;\n      }\n    }\n  };\n};\n\nexport default function createFieldArray(structure) {\n  var ConnectedFieldArray = createConnectedFieldArray(structure);\n\n  var FieldArray = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(FieldArray, _Component);\n\n    function FieldArray(props) {\n      var _this;\n\n      _this = _Component.call(this, props) || this;\n      _this.ref = React.createRef();\n\n      if (!props._reduxForm) {\n        throw new Error('FieldArray must be inside a component decorated with reduxForm()');\n      }\n\n      return _this;\n    }\n\n    var _proto = FieldArray.prototype;\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this2 = this;\n\n      this.props._reduxForm.register(this.name, 'FieldArray', function () {\n        return wrapError(_this2.props.validate, '_error');\n      }, function () {\n        return wrapError(_this2.props.warn, '_warning');\n      });\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n      var oldName = prefixName(prevProps, prevProps.name);\n      var newName = prefixName(this.props, this.props.name);\n\n      if (oldName !== newName) {\n        // unregister old name\n        this.props._reduxForm.unregister(oldName); // register new name\n\n\n        this.props._reduxForm.register(newName, 'FieldArray');\n      }\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.props._reduxForm.unregister(this.name);\n    };\n\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      invariant(this.props.forwardRef, 'If you want to access getRenderedComponent(), ' + 'you must specify a forwardRef prop to FieldArray');\n      return this.ref && this.ref.current.getRenderedComponent();\n    };\n\n    _proto.render = function render() {\n      return createElement(ConnectedFieldArray, _extends({}, this.props, {\n        name: this.name,\n        ref: this.ref\n      }));\n    };\n\n    _createClass(FieldArray, [{\n      key: \"name\",\n      get: function get() {\n        return prefixName(this.props, this.props.name);\n      }\n    }, {\n      key: \"dirty\",\n      get: function get() {\n        return !this.ref || this.ref.current.dirty;\n      }\n    }, {\n      key: \"pristine\",\n      get: function get() {\n        return !!(this.ref && this.ref.current.pristine);\n      }\n    }, {\n      key: \"value\",\n      get: function get() {\n        return this.ref ? this.ref.current.value : undefined;\n      }\n    }]);\n\n    return FieldArray;\n  }(Component);\n\n  FieldArray.propTypes = {\n    name: PropTypes.string.isRequired,\n    component: validateComponentProp,\n    props: PropTypes.object,\n    validate: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    warn: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    forwardRef: PropTypes.bool,\n    _reduxForm: PropTypes.object\n  };\n  return withReduxForm(FieldArray);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}