"use strict";(self.webpackChunkway_of_the_samurai=self.webpackChunkway_of_the_samurai||[]).push([[778],{3601:function(e,t,r){r.r(t),r.d(t,{default:function(){return J}});var s=r(1413),n=r(5671),a=r(3144),o=r(136),i=r(516),l="Profile_profileContainer__38pOr",u="Profile_CurrentProfile__fE4Tj",c=r(2791),f=r(9439),d="Post_PostContainer__vsu5L",m="Post_ButtonContainer__imM8l",P="Post_PostUserLike__m8s0H",p="Post_PostUserLikeLogo__09MDi",h="Post_PostUserLikeCounter__1Bwgb",_={ProfileContainer:"ProfileInfo_ProfileContainer__lnWx+",UserContainer:"ProfileInfo_UserContainer__xFaOU",ProfileImg:"ProfileInfo_ProfileImg__3RTuA",ProfileText:"ProfileInfo_ProfileText__g9a1r"},x=r.p+"static/media/avatar.3a9d5bfce8e91fa22d67.jpg",g=r(184),j=function(e){var t=e.message,r=e.name;return(0,g.jsxs)("div",{className:_.ProfileContainer,children:[(0,g.jsxs)("div",{className:_.UserContainer,children:[(0,g.jsx)("img",{src:x,alt:x,className:_.ProfileImg}),(0,g.jsx)("span",{className:_.ProfileName,children:r})]}),(0,g.jsx)("p",{className:_.ProfileText,children:t})]})};var v=r.p+"static/media/like.8869ecd067d68fa3c00c596f1851a5b3.svg",C=function(e){var t=e.message,r=e.name,s=e.counter,n=(0,c.useState)(s),a=(0,f.Z)(n,2),o=a[0],i=a[1];return(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)(j,{message:t,name:r}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("button",{className:P,onClick:function(){return i(Number(o+1))},children:(0,g.jsx)("img",{src:v,alt:"like-logo.jpg",className:p})}),(0,g.jsx)("span",{className:h,children:o})]})]})},N="Posts_postsContainer__nSI7q",I="Posts_postsTitle__DQDBw",T="AddTextAreaPost_AddPostContainer__rLcu3",S=r(6139),Z=r(704),y=r(3079),U=r(6811),b=y.l,k=(0,y.D)(10),D=(0,Z.Z)({form:"newPostBody"})((function(e){return(0,g.jsxs)("form",{className:T,onSubmit:e.handleSubmit,children:[(0,g.jsx)(S.Z,{type:"textarea",placeholder:"ADD POST",name:"newPostBody",component:U.gx,validate:[b,k]}),(0,g.jsx)("button",{children:"Add new post"})]})})),w=c.memo((function(e){var t=e.postsData,r=e.addPost,s=t.map((function(e){return(0,g.jsx)(C,{message:e.message,name:e.name,id:e.id,counter:e.counter},e.id)}),[t,r]);return(0,g.jsxs)("div",{className:N,children:[(0,g.jsx)("p",{className:I,children:"Here is my posts"}),s,(0,g.jsx)(D,{onSubmit:function(e){r(e.newPostBody)}})]})}));w.displayName="Posts";var F,M=w,A=function(e){var t=e.postsData,r=e.addPostHandler;return(0,g.jsx)("div",{children:(0,g.jsx)(M,{postsData:t,addPost:r})})},B={ProfileContainer:"CurrentProfile_ProfileContainer__A3VIR",UserContainer:"CurrentProfile_UserContainer__Iw1Pl",ProfileImg:"CurrentProfile_ProfileImg__5j6fq",ProfileText:"CurrentProfile_ProfileText__-fDub"},L=r(6395),H={},q=function(e){var t=e.status,r=e.updateMyStatusTC,s=(0,c.useState)(!1),n=(0,f.Z)(s,2),a=n[0],o=n[1],i=(0,c.useState)(t),l=(0,f.Z)(i,2),u=l[0],d=l[1];(0,c.useEffect)((function(){d(t)}),[t]);return(0,g.jsx)(g.Fragment,{children:a?(0,g.jsx)("div",{className:H.ProfileInputContainer,children:(0,g.jsx)("input",{onBlur:function(){o(!1),r(u)},onChange:function(e){d(e.target.value)},value:u,autoFocus:!0,className:H.ProfileInput})}):(0,g.jsx)("div",{onDoubleClick:function(){o(!0)},className:H.ProfileStatusContainer,children:(0,g.jsx)("span",{className:H.ProfileActualStatus,children:t})})})},O=function(e){var t=e.profilePage,r=e.updateMyStatusTC;return t.currentProfile?(0,g.jsx)("div",{className:B.ProfileContainer,children:(0,g.jsxs)("div",{className:B.UserContainer,children:[(0,g.jsx)("img",{src:x,alt:x,className:B.ProfileImg}),(0,g.jsx)("span",{className:B.ProfileName,children:t.currentProfile.fullName}),(0,g.jsx)(q,{status:t.status||"Click here for change status",updateMyStatusTC:r})]})}):(0,g.jsx)(L.Z,{isFetching:!0})},E=r(7689),X=r(3220),z=function(e){var t=e.profilePage,r=e.addPostHandler,s=e.isAuth,n=e.authorizedUserId,a=e.updateMyStatusTC;return s||n?(0,g.jsxs)("div",{className:l,children:[(0,g.jsx)("div",{className:u,children:(0,g.jsx)(O,{profilePage:t,updateMyStatusTC:a})}),(0,g.jsx)(A,{postsData:t.posts,addPostHandler:r})]}):(0,g.jsx)(E.Fg,{to:X.r.LOGIN})},R=r(3190),V=r(364),Y=r(4098),G=r(2111),Q=function(e){(0,o.Z)(r,e);var t=(0,i.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){this.props.getProfileTC(this.props.router),this.props.getProfileStatusTC(this.props.router)}},{key:"render",value:function(){return(0,g.jsx)("div",{className:l,children:(0,g.jsx)(z,(0,s.Z)((0,s.Z)({},this.props),{},{profilePage:this.props.profilePage}))})}}]),r}(c.Component),W=(0,G.D)(Q),$=(F=W,function(e){var t=(0,E.TH)(),r=(0,E.s0)(),n=(0,E.UO)();return(0,g.jsx)(F,(0,s.Z)((0,s.Z)({},e),{},{router:{location:t,navigate:r,params:n}}))}),J=(0,V.$j)((function(e){return{profilePage:e.profilePage,newPostText:e.profilePage.newPostText,status:e.profilePage.status,isFetching:e.usersPage.isFetching,authorizedUserId:e.auth.userId}}),{addPostHandler:R.hB,getProfileTC:function(e){return function(t){t((0,R.m9)(!0));var r="/profile",s=e.params.userId;s||history.pushState({},"login"),s?Y.c_.getUsersProfile(r,s).then((function(e){t((0,R.YL)(e.data)),t((0,R.m9)(!1))})):Y.c_.getUsersProfile(r,"29840").then((function(e){t((0,R.YL)(e.data)),t((0,R.m9)(!1))}))}},getProfileStatusTC:function(e){return function(t){t((0,R.m9)(!0));var r="/profile/status",s=e.params.userId;s?Y.c_.getUsersProfileStatus(r,s).then((function(e){t((0,R.qX)(e.data)),t((0,R.m9)(!1))})):Y.c_.getUsersProfileStatus(r,"29840").then((function(e){t((0,R.qX)(e.data)),t((0,R.m9)(!1))}))}},updateMyStatusTC:function(e){return function(t){t((0,R.m9)(!0));Y.c_.updateMyProfileStatus("/profile/status",e).then((function(r){0===r.data.resultCode&&(t((0,R.iX)(e)),t((0,R.m9)(!1)))}))}}})($)},6811:function(e,t,r){r.d(t,{II:function(){return u},gx:function(){return l}});var s=r(1413),n=(r(2791),"FormsControls_FormControl__aBk1v"),a="FormsControls_FormControlError__qVc3I",o=r(184),i=function(e){var t=e.meta.error&&e.meta.touched;return(0,o.jsxs)("div",{className:n,children:[(0,o.jsx)("div",{className:t?a:void 0,children:e.children}),t?(0,o.jsx)("span",{children:e.meta.error}):void 0]})},l=function(e){return(0,o.jsx)(i,(0,s.Z)((0,s.Z)({},e),{},{children:(0,o.jsx)("textarea",(0,s.Z)((0,s.Z)({},e.input),{},{placeholder:e.placeholder}))}))},u=function(e){return(0,o.jsx)(i,(0,s.Z)((0,s.Z)({},e),{},{children:(0,o.jsx)("input",(0,s.Z)((0,s.Z)({},e.input),{},{placeholder:e.placeholder}))}))}},3079:function(e,t,r){r.d(t,{D:function(){return n},l:function(){return s}});var s=function(e){return e&&void 0!==e?void 0:"Field is required"},n=function(e){return function(t){return t&&t.length>e?"Field should be shorter then ".concat(e," symbols"):void 0}}}}]);
//# sourceMappingURL=778.30523fda.chunk.js.map